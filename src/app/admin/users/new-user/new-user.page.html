<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
<ion-back-button defaultHref="/admin/tabs/users"></ion-back-button>
    </ion-buttons>
    <ion-title>Add User</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="onSubmit(f)" [disabled]="!f.valid">
        <ion-icon name="checkmark" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- ngSubmit is an angular directive -->
  <form #f="ngForm" (ngSubmit)="onSubmit(f)">
    <ion-grid>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-list>
            <ion-item>
              <!-- if ion-item is not there as a wrapper floating label will not work -->
              <ion-label position="floating">E-Mail</ion-label>
              <ion-input 
              type="email" 
              ngModel 
              name="email"
              required
              email
              #emailCtrl="ngModel"
              ></ion-input>
            </ion-item>
            <ion-item  *ngIf="!emailCtrl.valid && emailCtrl.touched" lines="none">
              <ion-text>Should be a valid email address</ion-text>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Password</ion-label>
              <ion-input 
              type="password" 
              ngModel 
              name="password"
              required
              minlength="6"
              #pwdCtrl="ngModel"
              ></ion-input>
            </ion-item>
            <ion-item  *ngIf="!pwdCtrl.valid && pwdCtrl.touched" lines="none">
              <ion-text>Password must be atleast 6 characters long</ion-text>
            </ion-item>
          </ion-list>
  
        </ion-col>
      </ion-row>
        <ion-row>
        <ion-col size-sm="6" offset-sm="3">
                  <!-- <div class="ion-text-center">
            <ion-spinner color="primary" *ngIf="isLoading"></ion-spinner>
          </div> -->
        
          <!-- INSTEAD OF SPINNER USE LOADING CONTROLLER ON PAGES SUCH AS AUTH WHERE WE NEED ENTIRE APP 
          TO WAIT
          SPINNER SHOULD BE USED IN CASES WHERE 
          USER HAS THE OPTION TO MOVE TO 
          OTHER PAGES
          BUT HERE IN LOGIN UNTIL LOGIN SUCCEEDS 
          USER CAN'T DO ANYTHING -->

          <!-- EXPAND="BLOCK" IS IONIC FEATUR -->
        <ion-button 
        color="primary"
         expand="block"
         type="submit"
         [disabled]="!f.valid">
         Create User
        </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
